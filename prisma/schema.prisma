

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model LoaiCongViec {
  id                Int                    @id @default(autoincrement())
  ten_loai_cong_viec String                @db.VarChar(255)
  chiTietLoaiCongViec ChiTietLoaiCongViec[]
  
  @@map("LoaiCongViec")
}

model ChiTietLoaiCongViec {
  id                Int           @id @default(autoincrement())
  ten_chi_tiet      String        @db.VarChar(255)
  hinh_anh          String?       @db.VarChar(500)
  ma_loai_cong_viec Int?
  loaiCongViec      LoaiCongViec? @relation(fields: [ma_loai_cong_viec], references: [id])
  congViec          CongViec[]
  
  @@map("ChiTietLoaiCongViec")
}

model NguoiDung {
  id            Int            @id @default(autoincrement())
  name          String         @db.VarChar(255)
  email         String         @unique @db.VarChar(255)
  pass_word     String         @db.VarChar(255)
  phone         String?        @db.VarChar(20)
  birth_day     String?        @db.VarChar(20)
  gender        String?        @db.VarChar(10)
  role          String?        @default("user") @db.VarChar(50)
  skill         String?        @db.Text
  certification String?        @db.Text
  congViec      CongViec[]
  thueCongViec  ThueCongViec[]
  binhLuan      BinhLuan[]
  
  @@map("NguoiDung")
}

model CongViec {
  id                Int            @id @default(autoincrement())
  ten_cong_viec     String         @db.VarChar(255)
  danh_gia          Int?           @default(0)
  gia_tien          Int
  hinh_anh          String?        @db.VarChar(500)
  mo_ta             String?        @db.Text
  mo_ta_ngan        String?        @db.VarChar(500)
  sao_cong_viec     Int?           @default(0)
  ma_chi_tiet_loai  Int?
  nguoi_tao         Int?
  chiTietLoaiCongViec ChiTietLoaiCongViec? @relation(fields: [ma_chi_tiet_loai], references: [id])
  nguoiTao          NguoiDung?     @relation(fields: [nguoi_tao], references: [id])
  thueCongViec      ThueCongViec[]
  binhLuan          BinhLuan[]
  
  @@map("CongViec")
}

model ThueCongViec {
  id              Int        @id @default(autoincrement())
  ma_cong_viec    Int?
  ma_nguoi_thue   Int?
  ngay_thue       DateTime   @default(now())
  hoan_thanh      Boolean?   @default(false)
  congViec        CongViec?  @relation(fields: [ma_cong_viec], references: [id])
  nguoiThue       NguoiDung? @relation(fields: [ma_nguoi_thue], references: [id])
  
  @@map("ThueCongViec")
}

model BinhLuan {
  id                   Int        @id @default(autoincrement())
  ma_cong_viec         Int?
  ma_nguoi_binh_luan   Int?
  ngay_binh_luan       DateTime   @default(now())
  noi_dung             String     @db.Text
  sao_binh_luan        Int?       @default(0)
  congViec             CongViec?  @relation(fields: [ma_cong_viec], references: [id])
  nguoiBinhLuan        NguoiDung? @relation(fields: [ma_nguoi_binh_luan], references: [id])
  
  @@map("BinhLuan")
}
